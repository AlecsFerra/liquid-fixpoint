fixpoint "--rewrite"

constant maker    : (func(0, [int; QQ]))

data QQ 0 = [
  | QQ { selector : int }
]


define maker(n : int) : QQ = (((maker n) = (QQ n)))

expand [1 : True]

bind 0 z : {v: QQ | v = maker 10 }

constraint:
  env [0]
  lhs {v : QQ | v = z }
  rhs {v : QQ | selector v = 10 }
  id 1 tag []

